(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["about"],{1071:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"edit-box"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"name"}],staticClass:"text-input",attrs:{type:"text",placeholder:"请输入模板名称!"},domProps:{value:e.name},on:{input:function(t){t.target.composing||(e.name=t.target.value)}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:e.templateFile,expression:"templateFile"}],staticClass:"text-input",attrs:{type:"text",placeholder:"请输入文件名称!"},domProps:{value:e.templateFile},on:{input:function(t){t.target.composing||(e.templateFile=t.target.value)}}}),a("select",{directives:[{name:"model",rawName:"v-model",value:e.browser,expression:"browser"}],on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.browser=t.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"兼容各种浏览器"}},[e._v("兼容各种浏览器")]),a("option",{attrs:{value:"兼容现代浏览器"}},[e._v("兼容现代浏览器")])]),a("select",{directives:[{name:"model",rawName:"v-model",value:e.type,expression:"type"}],on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.type=t.target.multiple?a:a[0]}}},e._l(e.info.type,function(t){return a("option",{domProps:{value:t.value}},[e._v(e._s(t.name))])}),0),a("div",{staticClass:"check-box"},[e._l(e.info.style,function(t,i){return a("div",{staticClass:"check-item"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.checkStyle,expression:"checkStyle"}],attrs:{type:"checkbox",id:"style"+i},domProps:{value:t.name,checked:Array.isArray(e.checkStyle)?e._i(e.checkStyle,t.name)>-1:e.checkStyle},on:{change:function(a){var i=e.checkStyle,c=a.target,n=!!c.checked;if(Array.isArray(i)){var s=t.name,r=e._i(i,s);c.checked?r<0&&(e.checkStyle=i.concat([s])):r>-1&&(e.checkStyle=i.slice(0,r).concat(i.slice(r+1)))}else e.checkStyle=n}}}),a("label",{staticClass:"text",attrs:{for:"style"+i}},[e._v(e._s(t.name))])])}),a("div",{staticClass:"clear"})],2),a("div",{staticClass:"check-box"},[e._l(e.info.script,function(t,i){return a("div",{staticClass:"check-item"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.checkScript,expression:"checkScript"}],attrs:{type:"checkbox",id:"script"+i},domProps:{value:t.name,checked:Array.isArray(e.checkScript)?e._i(e.checkScript,t.name)>-1:e.checkScript},on:{change:function(a){var i=e.checkScript,c=a.target,n=!!c.checked;if(Array.isArray(i)){var s=t.name,r=e._i(i,s);c.checked?r<0&&(e.checkScript=i.concat([s])):r>-1&&(e.checkScript=i.slice(0,r).concat(i.slice(r+1)))}else e.checkScript=n}}}),a("label",{staticClass:"text",attrs:{for:"script"+i}},[e._v(e._s(t.name))])])}),a("div",{staticClass:"clear"})],2),a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"value"}],staticClass:"edit",domProps:{value:e.value},on:{input:function(t){t.target.composing||(e.value=t.target.value)}}}),a("WaterRipple",{staticClass:"send",attrs:{text:"发布"},on:{onClick:e.send}})],1)},c=[],n=(a("7f7f"),a("bc3a")),s=a.n(n),r=a("79fa"),o={name:"edit",data:function(){return{info:{},name:"",templateFile:"",browser:"兼容各种浏览器",type:"header",value:"",checkStyle:[],checkScript:[]}},components:{WaterRipple:r["a"]},beforeCreate:function(){var e=this;"new"===this.$route.params.id?s.a.get("/getInfo").then(function(t){e.info=t.data.data}):s.a.get("/getInfo?id=".concat(this.$route.params.id)).then(function(t){var a=t.data;e.info=a.data,a.templateInfo&&(e.name=a.templateInfo.name,e.checkStyle=JSON.parse(a.templateInfo.styleList),e.checkScript=JSON.parse(a.templateInfo.scriptList),e.templateFile=a.templateInfo.templateFile,e.value=a.fileData,e.type=a.templateInfo.type)})},methods:{send:function(){var e=this,t={id:this.$route.params.id,name:this.name,templateFile:this.templateFile,styleList:this.checkStyle.length>0?'["'.concat(this.checkStyle.join('","'),'"]'):"[]",scriptList:this.checkScript.length>0?'["'.concat(this.checkScript.join('","'),'"]'):"[]",browser:this.browser,control:"[]",type:this.type,value:this.value};"new"===this.$route.params.id?s.a.post("/saveTemplateFile",t).then(function(t){0===t.data.err&&e.$router.push("/")}):s.a.post("/updataTemplateFile",t).then(function(t){0===t.data.err&&e.$router.push("/")})}}},l=o,u=(a("22a5"),a("2877")),p=Object(u["a"])(l,i,c,!1,null,"16de55af",null);t["default"]=p.exports},"22a5":function(e,t,a){"use strict";var i=a("a9ce"),c=a.n(i);c.a},2402:function(e,t,a){"use strict";var i=a("b0aa"),c=a.n(i);c.a},3846:function(e,t,a){a("9e1e")&&"g"!=/./g.flags&&a("86cc").f(RegExp.prototype,"flags",{configurable:!0,get:a("0bfb")})},"6b54":function(e,t,a){"use strict";a("3846");var i=a("cb7c"),c=a("0bfb"),n=a("9e1e"),s="toString",r=/./[s],o=function(e){a("2aba")(RegExp.prototype,s,e,!0)};a("79e5")(function(){return"/a/b"!=r.call({source:"a",flags:"b"})})?o(function(){var e=i(this);return"/".concat(e.source,"/","flags"in e?e.flags:!n&&e instanceof RegExp?c.call(e):void 0)}):r.name!=s&&o(function(){return r.call(this)})},a9ce:function(e,t,a){},b0aa:function(e,t,a){},d879:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"create-box"},[a("iframe",{attrs:{src:"http://127.0.0.1:8004/create/"}}),a("div",{staticClass:"tool"},[a("div",{staticClass:"add",on:{click:e.addDiv}},[e._v("增加块")]),a("div",{staticClass:"add",on:{click:e.addText}},[e._v("增加字")])]),e.active&&e.active.style?a("div",{staticClass:"control"},[e._l(e.active.style,function(t){return[a("AutoEntry",{attrs:{name:"标签字段",type:String},model:{value:t.value,callback:function(a){e.$set(t,"value",a)},expression:"item.value"}})]})],2):e._e()])},c=[],n=(a("ac6a"),a("c5f6"),a("6b54"),a("5119")),s={name:"create",components:{AutoEntry:n["a"]},data:function(){return{ws:null,body:{type:"div",id:"root",style:[{name:"font-size",value:"14px"}],text:"",children:[]},active:{}}},created:function(){var e=this;this.active=this.body,this.ws=new WebSocket("ws://127.0.0.1:8004"),this.ws.onopen=function(){e.ws.send(JSON.stringify({type:"init"})),e.ws.onmessage=function(t){var a=JSON.parse(t.data);"check"===a.type&&e.activeID(e.body,a.data),console.log("收到消息: ",a)}}},methods:{GenNonDuplicateID:function(e){return Number(Math.random().toString().substr(3,e)+Date.now()).toString(36)},addDiv:function(){this.active.children.push({type:"div",text:"",id:this.GenNonDuplicateID(8),children:[]}),this.ws.send(JSON.stringify({type:"create",data:this.body}))},addText:function(){this.active.children.push({type:"h1",text:"asdasdasd",style:[{name:"font-size",value:"14px"}],id:this.GenNonDuplicateID(8),children:[]}),this.ws.send(JSON.stringify({type:"create",data:this.body}))},activeID:function(e,t){var a=this;console.log("查找ID：".concat(t)),e.id===t?(console.log("符合",e),this.active=e):e.children&&e.children.forEach(function(e){a.activeID(e,t)})}}},r=s,o=(a("2402"),a("2877")),l=Object(o["a"])(r,i,c,!1,null,"0ba5b1ab",null);t["default"]=l.exports}}]);
//# sourceMappingURL=about.1b81a242.js.map