(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["about"],{1071:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"edit-box"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:"text-input",attrs:{type:"text",placeholder:"请输入模板名称!"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:t.templateFile,expression:"templateFile"}],staticClass:"text-input",attrs:{type:"text",placeholder:"请输入文件名称!"},domProps:{value:t.templateFile},on:{input:function(e){e.target.composing||(t.templateFile=e.target.value)}}}),a("select",{directives:[{name:"model",rawName:"v-model",value:t.browser,expression:"browser"}],on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.browser=e.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"兼容各种浏览器"}},[t._v("兼容各种浏览器")]),a("option",{attrs:{value:"兼容现代浏览器"}},[t._v("兼容现代浏览器")])]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.type,expression:"type"}],on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.type=e.target.multiple?a:a[0]}}},t._l(t.info.type,function(e){return a("option",{domProps:{value:e.value}},[t._v(t._s(e.name))])}),0),a("div",{staticClass:"check-box"},[t._l(t.info.style,function(e,i){return a("div",{staticClass:"check-item"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.checkStyle,expression:"checkStyle"}],attrs:{type:"checkbox",id:"style"+i},domProps:{value:e.name,checked:Array.isArray(t.checkStyle)?t._i(t.checkStyle,e.name)>-1:t.checkStyle},on:{change:function(a){var i=t.checkStyle,n=a.target,s=!!n.checked;if(Array.isArray(i)){var c=e.name,r=t._i(i,c);n.checked?r<0&&(t.checkStyle=i.concat([c])):r>-1&&(t.checkStyle=i.slice(0,r).concat(i.slice(r+1)))}else t.checkStyle=s}}}),a("label",{staticClass:"text",attrs:{for:"style"+i}},[t._v(t._s(e.name))])])}),a("div",{staticClass:"clear"})],2),a("div",{staticClass:"check-box"},[t._l(t.info.script,function(e,i){return a("div",{staticClass:"check-item"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.checkScript,expression:"checkScript"}],attrs:{type:"checkbox",id:"script"+i},domProps:{value:e.name,checked:Array.isArray(t.checkScript)?t._i(t.checkScript,e.name)>-1:t.checkScript},on:{change:function(a){var i=t.checkScript,n=a.target,s=!!n.checked;if(Array.isArray(i)){var c=e.name,r=t._i(i,c);n.checked?r<0&&(t.checkScript=i.concat([c])):r>-1&&(t.checkScript=i.slice(0,r).concat(i.slice(r+1)))}else t.checkScript=s}}}),a("label",{staticClass:"text",attrs:{for:"script"+i}},[t._v(t._s(e.name))])])}),a("div",{staticClass:"clear"})],2),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"value"}],staticClass:"edit",domProps:{value:t.value},on:{input:function(e){e.target.composing||(t.value=e.target.value)}}}),a("WaterRipple",{staticClass:"send",attrs:{text:"发布"},on:{onClick:t.send}})],1)},n=[],s=(a("7f7f"),a("bc3a")),c=a.n(s),r=a("79fa"),o={name:"edit",data:function(){return{info:{},name:"",templateFile:"",browser:"兼容各种浏览器",type:"header",value:"",checkStyle:[],checkScript:[]}},components:{WaterRipple:r["a"]},beforeCreate:function(){var t=this;"new"===this.$route.params.id?c.a.get("/getInfo").then(function(e){t.info=e.data.data}):c.a.get("/getInfo?id=".concat(this.$route.params.id)).then(function(e){var a=e.data;t.info=a.data,a.templateInfo&&(t.name=a.templateInfo.name,t.checkStyle=JSON.parse(a.templateInfo.styleList),t.checkScript=JSON.parse(a.templateInfo.scriptList),t.templateFile=a.templateInfo.templateFile,t.value=a.fileData,t.type=a.templateInfo.type)})},methods:{send:function(){var t=this,e={id:this.$route.params.id,name:this.name,templateFile:this.templateFile,styleList:this.checkStyle.length>0?'["'.concat(this.checkStyle.join('","'),'"]'):"[]",scriptList:this.checkScript.length>0?'["'.concat(this.checkScript.join('","'),'"]'):"[]",browser:this.browser,control:"[]",type:this.type,value:this.value};"new"===this.$route.params.id?c.a.post("/saveTemplateFile",e).then(function(e){0===e.data.err&&t.$router.push("/")}):c.a.post("/updataTemplateFile",e).then(function(e){0===e.data.err&&t.$router.push("/")})}}},l=o,u=(a("22a5"),a("2877")),p=Object(u["a"])(l,i,n,!1,null,"16de55af",null);e["default"]=p.exports},"22a5":function(t,e,a){"use strict";var i=a("a9ce"),n=a.n(i);n.a},"314c":function(t,e,a){"use strict";var i=a("bdd8"),n=a.n(i);n.a},3846:function(t,e,a){a("9e1e")&&"g"!=/./g.flags&&a("86cc").f(RegExp.prototype,"flags",{configurable:!0,get:a("0bfb")})},"6b54":function(t,e,a){"use strict";a("3846");var i=a("cb7c"),n=a("0bfb"),s=a("9e1e"),c="toString",r=/./[c],o=function(t){a("2aba")(RegExp.prototype,c,t,!0)};a("79e5")(function(){return"/a/b"!=r.call({source:"a",flags:"b"})})?o(function(){var t=i(this);return"/".concat(t.source,"/","flags"in t?t.flags:!s&&t instanceof RegExp?n.call(t):void 0)}):r.name!=c&&o(function(){return r.call(this)})},a9ce:function(t,e,a){},bdd8:function(t,e,a){},d879:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"create-box"},[a("iframe",{attrs:{src:"http://127.0.0.1:8004/create/"}}),a("div",{staticClass:"tool"},[a("div",{staticClass:"add",on:{click:t.addDiv}},[t._v("DIV")]),a("div",{staticClass:"add",on:{click:t.addText}},[t._v("H1")]),a("div",{staticClass:"add",on:{click:t.addOWO}},[t._v("OWO")])]),t._m(0),t.active&&t.active.style?a("div",{staticClass:"control"},[t._l(t.active.style,function(e,i){return["width"===i?a("AutoEntry",{attrs:{name:"宽度",type:String},on:{input:function(e){return t.create()}},model:{value:t.active.style[i],callback:function(e){t.$set(t.active.style,i,e)},expression:"active.style[key]"}}):"height"===i?a("AutoEntry",{attrs:{name:"高度",type:String},on:{input:function(e){return t.create()}},model:{value:t.active.style[i],callback:function(e){t.$set(t.active.style,i,e)},expression:"active.style[key]"}}):"font-size"===i?a("AutoEntry",{attrs:{name:"字体大小",type:String},on:{input:function(e){return t.create()}},model:{value:t.active.style[i],callback:function(e){t.$set(t.active.style,i,e)},expression:"active.style[key]"}}):"background-color"===i?a("ColorEntry",{attrs:{name:"背景颜色"},on:{input:function(e){return t.create()}},model:{value:t.active.style[i],callback:function(e){t.$set(t.active.style,i,e)},expression:"active.style[key]"}}):"background-image"===i?a("AutoEntry",{attrs:{name:"背景图片",type:String},on:{input:function(e){return t.create()}},model:{value:t.active.style[i],callback:function(e){t.$set(t.active.style,i,e)},expression:"active.style[key]"}}):"background-size"===i?a("AutoEntry",{attrs:{name:"图片大小",type:String},on:{input:function(e){return t.create()}},model:{value:t.active.style[i],callback:function(e){t.$set(t.active.style,i,e)},expression:"active.style[key]"}}):"background-repeat"===i?a("SelectEntry",{attrs:{text:"背景平铺方式",option:t.repeatOption,def:"string"},on:{input:function(e){return t.create()}},model:{value:t.active.style[i],callback:function(e){t.$set(t.active.style,i,e)},expression:"active.style[key]"}}):"text-align"===i?a("SelectEntry",{attrs:{text:"对齐方式",option:t.textAlignOption,def:"string"},on:{input:function(e){return t.create()}},model:{value:t.active.style[i],callback:function(e){t.$set(t.active.style,i,e)},expression:"active.style[key]"}}):"position"===i?a("SelectEntry",{attrs:{text:"定位方式",option:t.positionOption,def:"string"},on:{input:function(e){return t.create()}},model:{value:t.active.style[i],callback:function(e){t.$set(t.active.style,i,e)},expression:"active.style[key]"}}):t._e()]}),t.active.style.position&&"absolute"===t.active.style.position||"fixed"===t.active.style.position?a("div",{staticClass:"position-box box-show"},[a("div",{staticClass:"title"},[t._v("坐标位置")]),a("div",{staticClass:"box"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.active.style.top,expression:"active.style.top"}],staticClass:"top",attrs:{type:"text"},domProps:{value:t.active.style.top},on:{blur:function(e){return t.create()},input:function(e){e.target.composing||t.$set(t.active.style,"top",e.target.value)}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:t.active.style.right,expression:"active.style.right"}],staticClass:"right",attrs:{type:"text"},domProps:{value:t.active.style.right},on:{blur:function(e){return t.create()},input:function(e){e.target.composing||t.$set(t.active.style,"right",e.target.value)}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:t.active.style.bottom,expression:"active.style.bottom"}],staticClass:"bottom",attrs:{type:"text"},domProps:{value:t.active.style.bottom},on:{blur:function(e){return t.create()},input:function(e){e.target.composing||t.$set(t.active.style,"bottom",e.target.value)}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:t.active.style.left,expression:"active.style.left"}],staticClass:"left",attrs:{type:"text"},domProps:{value:t.active.style.left},on:{blur:function(e){return t.create()},input:function(e){e.target.composing||t.$set(t.active.style,"left",e.target.value)}}})])]):t._e(),a("div",{staticClass:"margin-box box-show"},[a("div",{staticClass:"title"},[t._v("外边距")]),a("div",{staticClass:"box"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.active.style["margin-top"],expression:"active.style['margin-top']"}],staticClass:"top",attrs:{type:"text"},domProps:{value:t.active.style["margin-top"]},on:{blur:function(e){return t.create()},input:function(e){e.target.composing||t.$set(t.active.style,"margin-top",e.target.value)}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:t.active.style["margin-right"],expression:"active.style['margin-right']"}],staticClass:"right",attrs:{type:"text"},domProps:{value:t.active.style["margin-right"]},on:{blur:function(e){return t.create()},input:function(e){e.target.composing||t.$set(t.active.style,"margin-right",e.target.value)}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:t.active.style["margin-bottom"],expression:"active.style['margin-bottom']"}],staticClass:"bottom",attrs:{type:"text"},domProps:{value:t.active.style["margin-bottom"]},on:{blur:function(e){return t.create()},input:function(e){e.target.composing||t.$set(t.active.style,"margin-bottom",e.target.value)}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:t.active.style["margin-left"],expression:"active.style['margin-left']"}],staticClass:"left",attrs:{type:"text"},domProps:{value:t.active.style["margin-left"]},on:{blur:function(e){return t.create()},input:function(e){e.target.composing||t.$set(t.active.style,"margin-left",e.target.value)}}})])]),t.active.text?a("TextareaEntry",{attrs:{name:"文本"},on:{blur:function(e){return t.create()}},model:{value:t.active.text,callback:function(e){t.$set(t.active,"text",e)},expression:"active.text"}}):t._e()],2):t._e()])},n=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"dom-check"},[a("div",{staticClass:"item"},[t._v("html")]),a("div",{staticClass:"item"},[t._v("body")])])}],s=(a("ac6a"),a("c5f6"),a("6b54"),a("5119")),c=a("ea69"),r=a("1b9c"),o=a("efaa"),l={name:"create",components:{AutoEntry:s["a"],ColorEntry:c["a"],SelectEntry:r["a"],TextareaEntry:o["a"]},data:function(){return{ws:null,domData:{type:"div",id:"root",style:{"font-size":"14px",height:"100%",width:"100%","background-image":"unset","background-size":"unset","background-repeat":"unset"},text:"",children:[]},bodyStyle:{},active:{},textAlignOption:[{value:"left",text:"居左"},{value:"center",text:"居中"},{value:"right",text:"居右"}],positionOption:[{value:"static",text:"无定位"},{value:"absolute",text:"绝对定位(父元素)"},{value:"fixed",text:"绝对定位(浏览器窗口)"},{value:"relative",text:"相对定位"}],repeatOption:[{value:"unset",text:"默认值"},{value:"repeat",text:"垂直方向和水平方向重复"},{value:"repeat-x",text:"水平方向重复"},{value:"repeat-y",text:"垂直方向重复"},{value:"no-repeat",text:"不重复"}]}},created:function(){var t=this;this.active=this.domData,this.ws=new WebSocket("ws://127.0.0.1:8004"),this.ws.onopen=function(){t.ws.send(JSON.stringify({type:"init"})),t.ws.onmessage=function(e){var a=JSON.parse(e.data);"check"===a.type&&t.activeID(t.domData,a.data),console.log("收到消息: ",a)}}},methods:{GenNonDuplicateID:function(t){return Number(Math.random().toString().substr(3,t)+Date.now()).toString(36)},addDiv:function(){this.active.children.push({type:"div",text:"",style:{"font-size":"14px",height:"200px",width:"100%","background-color":"#ffffff",position:"static",top:"unset",right:"unset",bottom:"unset",left:"unset","margin-top":"unset","margin-right":"unset","margin-bottom":"unset","margin-left":"unset","background-image":"unset","background-size":"unset","background-repeat":"unset"},id:this.GenNonDuplicateID(8),children:[]}),this.ws.send(JSON.stringify({type:"create",data:this.domData}))},addText:function(){this.active.children.push({type:"h1",text:"asdasdasd",style:{"font-size":"14px","text-align":"left",position:"unset",top:"unset",right:"unset",bottom:"unset",left:"unset","margin-top":"unset","margin-right":"unset","margin-bottom":"unset","margin-left":"unset","background-image":"unset"},id:this.GenNonDuplicateID(8),children:[]}),this.create()},addOWO:function(){var t=prompt("请输入owo代码","");t&&(this.active.children.push({type:"owo",value:t,id:this.GenNonDuplicateID(8),children:[]}),this.create())},create:function(){this.ws.send(JSON.stringify({type:"create",data:this.domData}))},activeID:function(t,e){var a=this;console.log("查找ID：".concat(e)),t.id===e?(console.log("符合",t),this.active=t):t.children&&t.children.forEach(function(t){a.activeID(t,e)})}}},u=l,p=(a("314c"),a("2877")),v=Object(p["a"])(u,i,n,!1,null,"d38f0ad0",null);e["default"]=v.exports}}]);
//# sourceMappingURL=about.a171f951.js.map