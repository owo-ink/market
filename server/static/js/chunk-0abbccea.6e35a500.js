(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0abbccea"],{"02f4":function(e,t,a){var i=a("4588"),n=a("be13");e.exports=function(e){return function(t,a){var r,c,l=String(n(t)),s=i(a),o=l.length;return s<0||s>=o?e?"":void 0:(r=l.charCodeAt(s),r<55296||r>56319||s+1===o||(c=l.charCodeAt(s+1))<56320||c>57343?e?l.charAt(s):r:e?l.slice(s,s+2):c-56320+(r-55296<<10)+65536)}}},"0390":function(e,t,a){"use strict";var i=a("02f4")(!0);e.exports=function(e,t,a){return t+(a?i(e,t).length:1)}},1071:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"edit-box"},[a("div",{staticClass:"left"},[e._m(0),a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"value"}],domProps:{value:e.value},on:{input:function(t){t.target.composing||(e.value=t.target.value)}}})]),a("div",{staticClass:"right"},[a("div",{staticClass:"icon-bar"},[a("span",{staticClass:"text-item script",class:{active:"info"==e.rightType},on:{click:function(t){e.rightType="info"}}},[e._v("信息")]),a("span",{staticClass:"text-item tag",class:{active:"tag"==e.rightType},on:{click:function(t){e.rightType="tag"}}},[e._v("标签")]),a("span",{staticClass:"text-item style",class:{active:"style"==e.rightType},on:{click:function(t){e.rightType="style"}}},[e._v("样式")]),a("span",{staticClass:"text-item script",class:{active:"script"==e.rightType},on:{click:function(t){e.rightType="script"}}},[e._v("脚本")])]),a("div",{staticClass:"right-content"},["info"===e.rightType?a("div",{staticClass:"info-bar"},[a("div",{staticClass:"info-bar-content"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"name"}],staticClass:"text-input",attrs:{type:"text",placeholder:"请输入模板名称!"},domProps:{value:e.name},on:{input:function(t){t.target.composing||(e.name=t.target.value)}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:e.templateFile,expression:"templateFile"}],staticClass:"text-input",attrs:{type:"text",placeholder:"请输入文件名称!"},domProps:{value:e.templateFile},on:{input:function(t){t.target.composing||(e.templateFile=t.target.value)}}}),a("select",{directives:[{name:"model",rawName:"v-model",value:e.browser,expression:"browser"}],on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.browser=t.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"兼容各种浏览器"}},[e._v("兼容各种浏览器")]),a("option",{attrs:{value:"兼容现代浏览器"}},[e._v("兼容现代浏览器")])]),a("select",{directives:[{name:"model",rawName:"v-model",value:e.type,expression:"type"}],on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.type=t.target.multiple?a:a[0]}}},e._l(e.info.type,function(t){return a("option",{domProps:{value:t.value}},[e._v(e._s(t.name))])}),0)]),a("WaterRipple",{staticClass:"send",attrs:{text:"发布"},on:{onClick:e.send}})],1):"tag"===e.rightType?a("editTag",{model:{value:e.control,callback:function(t){e.control=t},expression:"control"}}):"style"===e.rightType?a("div",{staticClass:"check-box"},[e._l(e.info.style,function(t,i){return a("div",{staticClass:"check-item"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.checkStyle,expression:"checkStyle"}],attrs:{type:"checkbox",id:"style"+i},domProps:{value:t.name,checked:Array.isArray(e.checkStyle)?e._i(e.checkStyle,t.name)>-1:e.checkStyle},on:{change:function(a){var i=e.checkStyle,n=a.target,r=!!n.checked;if(Array.isArray(i)){var c=t.name,l=e._i(i,c);n.checked?l<0&&(e.checkStyle=i.concat([c])):l>-1&&(e.checkStyle=i.slice(0,l).concat(i.slice(l+1)))}else e.checkStyle=r}}}),a("label",{staticClass:"text",attrs:{for:"style"+i}},[e._v(e._s(t.name))])])}),a("div",{staticClass:"clear"})],2):"script"===e.rightType?a("div",{staticClass:"check-box"},[e._l(e.info.script,function(t,i){return a("div",{staticClass:"check-item"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.checkScript,expression:"checkScript"}],attrs:{type:"checkbox",id:"script"+i},domProps:{value:t.name,checked:Array.isArray(e.checkScript)?e._i(e.checkScript,t.name)>-1:e.checkScript},on:{change:function(a){var i=e.checkScript,n=a.target,r=!!n.checked;if(Array.isArray(i)){var c=t.name,l=e._i(i,c);n.checked?l<0&&(e.checkScript=i.concat([c])):l>-1&&(e.checkScript=i.slice(0,l).concat(i.slice(l+1)))}else e.checkScript=r}}}),a("label",{staticClass:"text",attrs:{for:"script"+i}},[e._v(e._s(t.name))])])}),a("div",{staticClass:"clear"})],2):e._e()],1)])])},n=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"title-bar"},[a("div",{staticClass:"back"},[a("div",{staticClass:"icon"},[e._v("")]),a("span",[e._v("返回")])])])}],r=(a("7f7f"),a("bc3a")),c=a.n(r),l=a("79fa"),s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"edit-tag-box"},[e._l(e.value,function(t,i){return t&&t.lenght>0?a("div",{staticClass:"tag-item"},[a("div",{staticClass:"label"},[e._v(e._s(t.label))]),a("div",{staticClass:"edit icon",on:{click:function(a){return e.showEditTagBox(t,i)}}},[e._v("")]),a("div",{staticClass:"delete icon",on:{click:function(a){return e.deleteTag(t,i)}}},[e._v("")])]):e._e()}),e._m(0),a("WaterRipple",{staticClass:"creat",attrs:{text:"添加标签"},on:{onClick:e.showAddBox}}),a("div",{directives:[{name:"show",rawName:"v-show",value:e.showAddTagBox||null!==e.editTagID,expression:"showAddTagBox || editTagID !== null"}],staticClass:"add-tag-box"},[a("div",{staticClass:"close icon",on:{click:function(t){e.showAddTagBox=!1,e.editTagID=null}}},[e._v("")]),a("div",{staticClass:"add-box"},[a("div",{staticClass:"title-bar"},[e._v(e._s(e.showAddTagBox?"添加标签":"修改标签"))]),a("AutoEntry",{attrs:{name:"标签字段",type:String},model:{value:e.addTag.name,callback:function(t){e.$set(e.addTag,"name",t)},expression:"addTag.name"}}),a("SelectEntry",{attrs:{text:"标签类型",option:e.typeSelectList,def:"string"},model:{value:e.addTag.type,callback:function(t){e.$set(e.addTag,"type",t)},expression:"addTag.type"}}),a("SelectEntry",{attrs:{text:"标签模式",option:e.modelSelectList,def:"template"},model:{value:e.addTag.model,callback:function(t){e.$set(e.addTag,"model",t)},expression:"addTag.model"}}),a("AutoEntry",{attrs:{name:"标签名称",type:String},model:{value:e.addTag.label,callback:function(t){e.$set(e.addTag,"label",t)},expression:"addTag.label"}}),a("TextareaEntry",{attrs:{name:"标签数值"},model:{value:e.addTag.value,callback:function(t){e.$set(e.addTag,"value",t)},expression:"addTag.value"}}),e.showAddTagBox?a("WaterRipple",{staticClass:"add-tag",attrs:{text:"确定添加"},on:{onClick:e.addNewTag}}):a("WaterRipple",{staticClass:"add-tag",attrs:{text:"确定修改"},on:{onClick:e.editTag}})],1)])],2)},o=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"empty"},[a("div",{staticClass:"icon"},[e._v("")]),a("p",[e._v("当前还没有标签哦")])])}],u=(a("6b54"),a("7618")),d=(a("a481"),a("5119")),p=a("1b9c"),v=a("efaa"),g={props:{value:Array},data:function(){return{editTagID:null,showAddTagBox:!1,typeSelectList:[{value:"string",text:"字符串"},{value:"array",text:"数组"},{value:"color",text:"颜色"},{value:"object",text:"对象"},{value:"number",text:"数字"}],modelSelectList:[{value:"template",text:"模板插值"},{value:"prop",text:"prop传值"}],addTag:{name:"",type:"string",label:"",value:"",model:"template"}}},components:{AutoEntry:d["a"],SelectEntry:p["a"],TextareaEntry:v["a"],WaterRipple:l["a"]},created:function(){},methods:{deleteTag:function(e,t){var a=this,i=window.confirm('确认删除 "'.concat(e.label,'" 这个标签吗!'));if(i){var n=JSON.parse(JSON.stringify(this.value));n.splice(t,1),c.a.post("https://owo.ink/changeControl",{id:this.$route.params.id,data:n}).then(function(e){0===e.data.err&&a.$emit("input",n)})}},editTag:function(){var e=this,t=JSON.parse(JSON.stringify(this.value));t[this.editTagID]=this.addTag,"array"!==this.addTag.type&&"object"!==this.addTag.type||(t[this.editTagID].value=t[this.editTagID].value.replace(/\r/g,""),t[this.editTagID].value=t[this.editTagID].value.replace(/\n/g,""),t[this.editTagID].value=t[this.editTagID].value.replace(/ /g,""),t[this.editTagID].value=t[this.editTagID].value.replace(/},]/g,"}]"),t[this.editTagID].value=t[this.editTagID].value.replace(/},}/g,"}}"),t[this.editTagID].value=t[this.editTagID].value.replace(/],]/g,"]]"),t[this.editTagID].value=JSON.parse(t[this.editTagID].value)),this.$emit("input",t),c.a.post("https://owo.ink/changeControl",{id:this.$route.params.id,data:t}).then(function(t){0===t.data.err&&(e.editTagID=null,alert("修改成功!"))})},showEditTagBox:function(e,t){var a=Object(u["a"])(e.value);"object"!==a&&"array"!==a||(e.value=JSON.stringify(e.value)),this.addTag=e,this.editTagID=t},addNewTag:function(){var e=this,t=JSON.parse(JSON.stringify(this.value));t||(t=[]);var a=JSON.parse(JSON.stringify(this.addTag));"array"===a.type||"object"===a.type?(a.value=a.value.replace(/\r/g,""),a.value=a.value.replace(/\n/g,""),a.value=a.value.replace(/ /g,""),a.value=a.value.replace(/},]/g,"}]"),a.value=a.value.replace(/],]/g,"]]"),a.value=a.value.replace(/},}/g,"}}"),a.value=JSON.parse(a.value)):"number"===a.type&&(a.value=parseInt(a.value)),t.push(a),c.a.post("https://owo.ink/changeControl",{id:this.$route.params.id,data:t}).then(function(a){0===a.data.err&&(e.addTag={name:"",type:"string",label:"",value:"",model:"template"},e.$emit("input",t),alert("添加成功!"),e.showAddTagBox=!1)})},showAddBox:function(){this.addTag={name:"",type:"string",label:"",value:"",model:"template"},window.getSelection().toString()&&(this.addTag.value=window.getSelection().toString()),this.showAddTagBox=!0}}},h=g,f=(a("5aca"),a("2877")),m=Object(f["a"])(h,s,o,!1,null,"133ae9ce",null),y=m.exports,x={name:"edit",data:function(){return{rightType:"tag",info:{},name:"",templateFile:"",browser:"兼容各种浏览器",type:"header",value:"",control:[],checkStyle:[],checkScript:[]}},components:{editTag:y,WaterRipple:l["a"]},beforeCreate:function(){var e=this;"add"===this.$route.name?c.a.get("https://owo.ink/getInfo").then(function(t){e.info=t.data.data,e.type=e.$route.params.type}):c.a.get("https://owo.ink/getInfo?id=".concat(this.$route.params.id)).then(function(t){var a=t.data;e.info=a.data,a.templateInfo&&(e.name=a.templateInfo.name,e.checkStyle=JSON.parse(a.templateInfo.styleList),e.checkScript=JSON.parse(a.templateInfo.scriptList),e.templateFile=a.templateInfo.templateFile,e.value=a.fileData,e.type=a.templateInfo.type,e.control=JSON.parse(a.templateInfo.control))})},methods:{send:function(){var e={id:this.$route.params.id,name:this.name,templateFile:this.templateFile,styleList:this.checkStyle.length>0?'["'.concat(this.checkStyle.join('","'),'"]'):"[]",scriptList:this.checkScript.length>0?'["'.concat(this.checkScript.join('","'),'"]'):"[]",browser:this.browser,control:"[]",type:this.type,value:this.value};"add"===this.$route.name?c.a.post("https://owo.ink/saveTemplateFile",e).then(function(e){0===e.data.err&&window.history.back(-1)}):c.a.post("https://owo.ink/updataTemplateFile",e).then(function(e){0===e.data.err&&window.history.back(-1)})}}},b=x,T=(a("7c8b"),Object(f["a"])(b,i,n,!1,null,"327860f0",null));t["default"]=T.exports},"214f":function(e,t,a){"use strict";a("b0c5");var i=a("2aba"),n=a("32e9"),r=a("79e5"),c=a("be13"),l=a("2b4c"),s=a("520a"),o=l("species"),u=!r(function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}),d=function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var a="ab".split(e);return 2===a.length&&"a"===a[0]&&"b"===a[1]}();e.exports=function(e,t,a){var p=l(e),v=!r(function(){var t={};return t[p]=function(){return 7},7!=""[e](t)}),g=v?!r(function(){var t=!1,a=/a/;return a.exec=function(){return t=!0,null},"split"===e&&(a.constructor={},a.constructor[o]=function(){return a}),a[p](""),!t}):void 0;if(!v||!g||"replace"===e&&!u||"split"===e&&!d){var h=/./[p],f=a(c,p,""[e],function(e,t,a,i,n){return t.exec===s?v&&!n?{done:!0,value:h.call(t,a,i)}:{done:!0,value:e.call(a,t,i)}:{done:!1}}),m=f[0],y=f[1];i(String.prototype,e,m),n(RegExp.prototype,p,2==t?function(e,t){return y.call(e,this,t)}:function(e){return y.call(e,this)})}}},3846:function(e,t,a){a("9e1e")&&"g"!=/./g.flags&&a("86cc").f(RegExp.prototype,"flags",{configurable:!0,get:a("0bfb")})},"520a":function(e,t,a){"use strict";var i=a("0bfb"),n=RegExp.prototype.exec,r=String.prototype.replace,c=n,l="lastIndex",s=function(){var e=/a/,t=/b*/g;return n.call(e,"a"),n.call(t,"a"),0!==e[l]||0!==t[l]}(),o=void 0!==/()??/.exec("")[1],u=s||o;u&&(c=function(e){var t,a,c,u,d=this;return o&&(a=new RegExp("^"+d.source+"$(?!\\s)",i.call(d))),s&&(t=d[l]),c=n.call(d,e),s&&c&&(d[l]=d.global?c.index+c[0].length:t),o&&c&&c.length>1&&r.call(c[0],a,function(){for(u=1;u<arguments.length-2;u++)void 0===arguments[u]&&(c[u]=void 0)}),c}),e.exports=c},"5aca":function(e,t,a){"use strict";var i=a("e280"),n=a.n(i);n.a},"5f1b":function(e,t,a){"use strict";var i=a("23c6"),n=RegExp.prototype.exec;e.exports=function(e,t){var a=e.exec;if("function"===typeof a){var r=a.call(e,t);if("object"!==typeof r)throw new TypeError("RegExp exec method returned something other than an Object or null");return r}if("RegExp"!==i(e))throw new TypeError("RegExp#exec called on incompatible receiver");return n.call(e,t)}},"5f1e":function(e,t,a){},"6b54":function(e,t,a){"use strict";a("3846");var i=a("cb7c"),n=a("0bfb"),r=a("9e1e"),c="toString",l=/./[c],s=function(e){a("2aba")(RegExp.prototype,c,e,!0)};a("79e5")(function(){return"/a/b"!=l.call({source:"a",flags:"b"})})?s(function(){var e=i(this);return"/".concat(e.source,"/","flags"in e?e.flags:!r&&e instanceof RegExp?n.call(e):void 0)}):l.name!=c&&s(function(){return l.call(this)})},"7c8b":function(e,t,a){"use strict";var i=a("5f1e"),n=a.n(i);n.a},a481:function(e,t,a){"use strict";var i=a("cb7c"),n=a("4bf8"),r=a("9def"),c=a("4588"),l=a("0390"),s=a("5f1b"),o=Math.max,u=Math.min,d=Math.floor,p=/\$([$&`']|\d\d?|<[^>]*>)/g,v=/\$([$&`']|\d\d?)/g,g=function(e){return void 0===e?e:String(e)};a("214f")("replace",2,function(e,t,a,h){return[function(i,n){var r=e(this),c=void 0==i?void 0:i[t];return void 0!==c?c.call(i,r,n):a.call(String(r),i,n)},function(e,t){var n=h(a,e,this,t);if(n.done)return n.value;var d=i(e),p=String(this),v="function"===typeof t;v||(t=String(t));var m=d.global;if(m){var y=d.unicode;d.lastIndex=0}var x=[];while(1){var b=s(d,p);if(null===b)break;if(x.push(b),!m)break;var T=String(b[0]);""===T&&(d.lastIndex=l(p,r(d.lastIndex),y))}for(var k="",S=0,w=0;w<x.length;w++){b=x[w];for(var C=String(b[0]),_=o(u(c(b.index),p.length),0),I=[],A=1;A<b.length;A++)I.push(g(b[A]));var $=b.groups;if(v){var E=[C].concat(I,_,p);void 0!==$&&E.push($);var N=String(t.apply(void 0,E))}else N=f(C,p,_,I,$,t);_>=S&&(k+=p.slice(S,_)+N,S=_+C.length)}return k+p.slice(S)}];function f(e,t,i,r,c,l){var s=i+e.length,o=r.length,u=v;return void 0!==c&&(c=n(c),u=p),a.call(l,u,function(a,n){var l;switch(n.charAt(0)){case"$":return"$";case"&":return e;case"`":return t.slice(0,i);case"'":return t.slice(s);case"<":l=c[n.slice(1,-1)];break;default:var u=+n;if(0===u)return a;if(u>o){var p=d(u/10);return 0===p?a:p<=o?void 0===r[p-1]?n.charAt(1):r[p-1]+n.charAt(1):a}l=r[u-1]}return void 0===l?"":l})}})},b0c5:function(e,t,a){"use strict";var i=a("520a");a("5ca1")({target:"RegExp",proto:!0,forced:i!==/./.exec},{exec:i})},e280:function(e,t,a){}}]);
//# sourceMappingURL=chunk-0abbccea.6e35a500.js.map