<template>
  <div id="myCanvasContainer" class="tag-cloud-box">
    <canvas width="1000" height="400" id="myCanvas">
      <p>Anything in here will be replaced on browsers that support the canvas element</p>
    </canvas>
  </div>
  <div id="tags" class="tag-box">
    <ul>
      <li @for="item in tag" class="rank-{{item.rank}}"><a href="{{item.href}}">{{item.text}}</a></li>
    </ul>
  </div>
</template>

<script>
  module.exports = {
    data: {
      tag: {{--tag--}}
    },
    created: () => {
      let screenWidth = ozzx.tool.getScreenInfo().clientWidth
      // 最大宽度800
      if (screenWidth > 1000) screenWidth = 800
      document.getElementById('myCanvas').width = screenWidth 
      document.getElementById('myCanvas').height = screenWidth * 0.4
      document.getElementById('myCanvasContainer').style.height = screenWidth * 0.4 + 'px'
      TagCanvas.Start('myCanvas','tags',{{--tagConfig--}})
      TagCanvas.SetSpeed('myCanvas', [-0.05, -0.05])
    }
  }
</script>


<style lang="less">
  canvas {
    position: absolute;
    left: 0px;
    right: 0px;
    margin: auto;
  }
  .rank-1 {
    font-size: 14px;
  }
  .rank-2 {
    font-size: 20px;
  }
  .rank-3 {
    font-size: 28px;
  }
  .tag-cloud-box {
    position: relative;
  }
</style>